# CSCI-224-ECE-317-Computer-Architecture

## Assignment #4: Intel x86 Assembly, Conditionals, and Loops
 
<a  name="readme-top"></a>
   
<!-- PROJECT LOGO -->
<br />
<div align="center">
  <a href="https://github.com/turnMeUpSon/CSCI-224-ECE-317-Computer-Architecture">
    <img src="https://github.com/turnMeUpSon/CSCI-224-ECE-317-Computer-Architecture/blob/main/ComputerSystems.jpeg" alt="Logo" width="80" height="80">
  </a>
</div>



<!-- Task 1 -->

## Task 1 ([code is here](https://github.com/turnMeUpSon/Solved-CSCI-224-ECE-317-Computer-Architecture/blob/Intel-x86-Assembly-Conditionals-and-Loops/intel_x86_assembly_conditionals_loops_1.asm)):
```
Given the following C code:

    if (a - 3 > b)
	      c = a + 7;
	 else if (b > (c & 7))
        c = b >> 3;
	 else
	      c = -1;
Given the equivalent Intel x86 assembly code.
Assume that: variables a, b, and c are in registers %eax, %ebx, and %ecx, respectively.
```

## Task 2 ([code is here](https://github.com/turnMeUpSon/Solved-CSCI-224-ECE-317-Computer-Architecture/blob/Intel-x86-Assembly-Conditionals-and-Loops/intel_x86_assembly_conditionals_loops_2.c)):
```
Translate this code into C:

.text
	.globl	main

hw4_prob2:
	movl	4(%esp), %eax		# 1st arg:  %eax = x
	movl	8(%esp), %edx		# 2nd arg:  %edx = y

	movl	%edx, %ecx		# %ecx = result = ...
	addl	%eax, %ecx
	sarl	$1, %ecx

	cmpl	$5, %eax
	jle	.L1

	cmpl	%eax, %ecx
	jg	.L1
	movl	%eax, %ecx
	subl	%edx, %ecx
	jmp	EXIT

.L1:
	cmpl	%edx, %eax
	jne	.L2
	movl	%eax, %ecx
	xorl	%edx, %ecx
	jmp	EXIT

.L2:
	movl	%eax, %ecx
	shll	$2, %ecx

EXIT:
	movl	%ecx, %eax
	ret


main:
        pushl  %ebp
        movl   %esp,%ebp
        andl   $-16,%esp
        subl   $32,%esp

	pushl	b
	pushl	a
        call   hw4_prob2

        movl   %eax, 4(%esp)
        movl   $prtString, (%esp)
        call   printf

        leave  
        ret    

.section        .rodata
    prtString:
        .string "\nresult is %d\n"

.section	.data
	a:
		.long 33
	b:
		.long 91
	c:
		.long -56


```

## Task 3 ([code is here](https://github.com/turnMeUpSon/Solved-CSCI-224-ECE-317-Computer-Architecture/blob/Intel-x86-Assembly-Conditionals-and-Loops/intel_x86_assembly_conditionals_loops_3.c)):
```
Consider the following assembly code:
x at %ebp+8, n at %ebp+12
1 movl 2 movl 3 movl 4 movl 5 .L2:
6 movl 7 andl 8 xorl 9 movl
10 sall 11 testl 12 jne 13 movl
8(%ebp), %esi
12(%ebp), %ebx
$-1, %edi
$1, %edx
%edx, %eax
%esi, %eax
%eax, %edi
%ebx, %ecx
%cl, %edx
%edx, %edx
.L2
%edi, %eax
The preceding code was generated by compiling C code that had the following overall form:
1 int loop(int x, int n) 2{
3 int result =
4 int mask;
5 for (mask =
;
; mask   ; mask =   ) { ;
6
7}
8 return result; 9}
result ^=
Your task is to fill in the missing parts of the C code to get a program equivalent to the generated assembly code. Recall that the result of the function is returned in register %eax. You will find it helpful to examine the assembly code before, during, and after the loop to form a consistent mapping between the registers and the program variables.
A. Which registers hold program values x, n, result, and mask?
B. What are the initial values of result and mask?
C. Whatisthetestconditionformask?
D. Howdoesmaskgetupdated?
E. Howdoesresultgetupdated?
F. Fill in all the missing parts of the C code.
```

## Task 4 ([code is here](https://github.com/turnMeUpSon/Solved-CSCI-224-ECE-317-Computer-Architecture/blob/Intel-x86-Assembly-Conditionals-and-Loops/intel_x86_assembly_conditionals_loops_4.txt)):
```
Given the following x86 assembly code that sums the numbers from 1 to N:

      movl  $0, %eax			# %eax:  sum = 0
      movl  $1, %ecx			# %ecx:  i = 1

      LOOP:
	 addl  %ecx, %eax
         addl  $1, %ecx

         cmpl  %edi, %ecx
         jle   LOOP

      LOOP_EXIT:
	 ...
Note: The variables of i, N, and sum are stored in registers %ecx, %edi, and %eax, respectively.

What one line would you need to add and/or change in order to sum the following number sequence?
       1 4 7 10 13 16 19 22 25 28 ...

What two lines (of the original code) would you need to add and/or change in order to compute the factorial of N?

What one line lines (of the original code) would you need to add and/or change in order to compute the sum of squares from 1 to N?
       i.e. 1^2 + 2^2 + 3^2 + 4^2 + 5^2 + ...
           = 1 + 4 + 9 + 16 + 25 + ...

Add a conditional to the loop that checks if the number is even or odd, and negates the value if it's odd. In essence, this will generate the sum:        -1 + 2 - 3 + 4 - 5 + 6 - 7 + 8 - 9 + ...

Hint: What one bit in a binary integer representation indicates whether the number is even or odd? And what bit-wise Boolean operation can you use to isolate that number?
```

## Task 5 ([code is here](https://github.com/turnMeUpSon/Solved-CSCI-224-ECE-317-Computer-Architecture/blob/Intel-x86-Assembly-Conditionals-and-Loops/intel_x86_assembly_conditionals_loops_5.asm)):
```
Using the same C program for the Fibonacci sequence as on Exam #1:

      a = 0;			 // F(0)
      b = 1;			 // F(1)

      for (i = 2; i < n; i++)
      {
          c = b + a;		 // F(i)
          a = b;
          b = c;
      }
Give the equivalent sequence of assembly instructions for computing the Nth value of the Fibonacci sequence
First, give the equivalent assembly in the form of a WHILE or FOR loop.
Then, give the equivalent assembly in the form of a (converted) DO-WHILE loop.
```
<p  align="right">(<a  href="#readme-top">back to top</a>)</p>

  
  
  

### Built With
All code is written on C and Assembly


## Getting Started

  

Make sure you have successfully installed [CMake](https://marketplace.visualstudio.com/items?itemName=twxs.cmake), [CMake Tools](https://marketplace.visualstudio.com/items?itemName=ms-vscode.cmake-tools) and [Code Runner](https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner)


<!-- LICENSE -->

## License

  

Distributed under the MIT License.

  

<p  align="right">(<a  href="#readme-top">back to top</a>)</p>

  
  
  

<!-- CONTACT -->

## Contact

  

Your Name - [Ian Miller](https://www.linkedin.com/in/ian-miller-620a63245/) - email@example.com

  

Project Link: [https://github.com/turnMeUpSon/CSCI-224-ECE-317-Computer-Architecture](https://github.com/turnMeUpSon/CSCI-224-ECE-317-Computer-Architecture)

  

<p  align="right">(<a  href="#readme-top">back to top</a>)</p>
